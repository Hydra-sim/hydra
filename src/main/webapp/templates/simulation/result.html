<div ng-include src="'templates/simulation/loadingscreen.html'" ng-hide="ctrl.loaded"></div>

<div class="text-center" ng-show="ctrl.loaded">
    <div class="row">
        <div class="col-sm-12">
            <h2>Result</h2>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <p>
                Simulation ran
                from {{ ctrl.simulation.startTick | TicksToTime }}
                to {{ ctrl.simulation.startTick + ctrl.simulation.ticks | TicksToTime }}
            </p>
            <p>
                Max waiting time: {{ ctrl.simulation.result.maxWaitingTimeInTicks | StandardTicksToTime }}
            </p>
            <a href="#/simulation/{{ctrl.simulation.id}}/animation">Watch the simulation as an animation</a>
        </div>
        <div class="col-sm-6">
            <p>Number of passengers through the simulation: {{ ctrl.simulation.result.entitiesConsumed }}</p>
            <p>Passengers still in queue at simulation end: {{ ctrl.simulation.result.entitiesInQueue }}</p>
            <p>Busses queueing at simulation end: {{ ctrl.simulation.entitiesQueueing.length }}</p>
        </div>
    </div>
    <div class="row ">
        <graph
                nodes="ctrl.simulation.nodes"
                edges="ctrl.simulation.relationships"
                height="500px"
                extra-tooltip="ctrl.extraTooltip()"
                extra-border="ctrl.extraBorder()"
                background="ctrl.simulation.map">
        </graph>
    </div>
</div>