<div ng-controller="ModalCtrl">
    <script type="text/ng-template" id="configModal.html">

        <div class="modal-body">
            <form novalidate>
                <div class="form-group">
                    <h3>Simulation Duration</h3>
                    <br/>
                    <label for="days">Days</label>
                    <input type="number" id="days" class="form-control" ng-model="days" min="0" />
                    <label for="hours">Hours</label>
                    <input type="number" id="hours" class="form-control" ng-model="hours" min="0" />
                    <label for="minutes">Minutes</label>
                    <input type="number" id="minutes" class="form-control" ng-model="minutes" min="0" />
                </div>
            </form>

            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="submitConfig(days, hours, minutes)" type="submit">Submit</button>
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>

        </div>
    </script>

    <button class="btn btn-default" ng-click="openConfigModal()">Configure simulation</button>

    <script type="text/ng-template" id="modal.html">

        <div class="modal-body">

            <tabset justified="true">
                <tab>
                    <tab-heading>
                        <h4>Consumer</h4>
                    </tab-heading>
                    <!-- Create Consumer Form -->
                    <br/>
                    <form novalidate>
                        <div class="form-group">
                            <label for="entitiesConsumedPerTick">Number of entities consumed per tick:</label>
                            <input type="number" id="entitiesConsumedPerTick" class="form-control" ng-model="entitiesConsumedPerTick" min="0" />
                        </div>
                    </form>
                    <div class="modal-footer">
                        <button class="btn btn-primary" ng-click="submitConsumer(entitiesConsumedPerTick)" type="submit">Submit</button>
                        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                    </div>
                </tab>
                <tab>
                    <tab-heading>
                        <h4>Producer</h4>
                    </tab-heading>
                    <!-- Create Producer Form -->
                    <br/>
                    <form novalidate>
                        <div class="form-group">
                            <label for="entitesToProduce">Entities to produce per tick:</label>
                            <input type="number" id="entitesToProduce" class="form-control" ng-model="entitesToProduce" min="0" />
                        </div>
                        <div class="form-group">
                            <label for="startTickForProducer">Number of ticks before arrival:</label>
                            <input type="number" id="startTickForProducer" class="form-control" ng-model="startTickForProducer" min="0" />
                        </div>
                        <div class="form-group">
                            <label for="timeBetweenBuses">Ticks between buses:</label>
                            <input type="number" id="timeBetweenBuses" class="form-control" ng-model="timeBetweenBuses" min="0" />
                        </div>
                    </form>
                    <div class="modal-footer">
                        <button class="btn btn-primary" ng-click="submitProducer(entitesToProduce, startTickForProducer, timeBetweenBuses)" type="submit">Submit</button>
                        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                    </div>
                </tab>
            </tabset>
        </div>
    </script>
    <button class="btn btn-default" ng-click="openModal()">Add Node</button>
    <p>{{entitiesConsumedPerTickList.length}} consumers, {{entitiesToProduceList.length}} producers, {{ticks}} ticks</p>
    <!--<p>{{days}} days, {{hours}} hours, {{minutes}} minutes</p>-->

</div>

<graph nodes="dataset.nodes" edges="dataset.edges"></graph>